<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agent Cards ‚Äî Trading Cards for the Agent Internet</title>
<meta name="description" content="Generate beautiful trading cards for AI agents. The Pok√©mon cards of the agent internet.">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --bg: #0a0a0f;
    --surface: #12121a;
    --border: #1e1e2e;
    --text: #e4e4ef;
    --muted: #6e6e8a;
    --accent: #8b5cf6;
    --accent2: #06b6d4;
    --danger: #ef4444;
    --warning: #f59e0b;
    --success: #22c55e;
  }

  body {
    font-family: 'Space Grotesk', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  header {
    text-align: center;
    padding: 3rem 1rem 1.5rem;
    max-width: 600px;
  }

  header h1 {
    font-size: 2.2rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
  }

  header p {
    color: var(--muted);
    font-size: 1rem;
    line-height: 1.5;
  }

  .container {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    justify-content: center;
    padding: 1rem;
    max-width: 1100px;
    width: 100%;
  }

  /* ===== Form ===== */
  .form-panel {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 1.5rem;
    width: 360px;
    flex-shrink: 0;
  }

  .form-panel h2 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--accent);
  }

  .field { margin-bottom: 1rem; }

  .field label {
    display: block;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--muted);
    margin-bottom: 0.3rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .field input, .field select, .field textarea {
    width: 100%;
    padding: 0.6rem 0.8rem;
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text);
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.9rem;
    outline: none;
    transition: border-color 0.2s;
  }

  .field input:focus, .field select:focus, .field textarea:focus {
    border-color: var(--accent);
  }

  .field textarea { resize: vertical; min-height: 60px; }

  /* Stat sliders */
  .stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.8rem;
  }

  .stat-field label {
    font-size: 0.7rem;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .stat-field input[type="range"] {
    width: 100%;
    accent-color: var(--accent);
    background: transparent;
    border: none;
    padding: 0;
  }

  .stat-field .stat-val {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    color: var(--accent2);
    float: right;
  }

  .rarity-select {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .rarity-select button {
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    border: 1px solid var(--border);
    background: var(--bg);
    color: var(--muted);
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .rarity-select button.active {
    border-color: var(--accent);
    color: var(--text);
    background: rgba(139, 92, 246, 0.15);
  }

  .rarity-select button:hover { border-color: var(--accent); }

  .generate-btn {
    width: 100%;
    padding: 0.8rem;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: white;
    border: none;
    border-radius: 10px;
    font-family: 'Space Grotesk', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.15s, box-shadow 0.15s;
    margin-top: 0.5rem;
  }

  .generate-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
  }

  .btn-row {
    display: flex;
    gap: 0.5rem;
    margin-top: 0.5rem;
  }

  .btn-row button {
    flex: 1;
    padding: 0.6rem;
    border-radius: 8px;
    border: 1px solid var(--border);
    background: var(--surface);
    color: var(--muted);
    font-family: 'Space Grotesk', sans-serif;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-row button:hover { border-color: var(--accent); color: var(--text); }

  /* ===== Card ===== */
  .card-panel {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
  }

  .agent-card {
    width: 340px;
    border-radius: 16px;
    overflow: hidden;
    position: relative;
    background: var(--surface);
    border: 2px solid var(--border);
    transition: all 0.3s;
  }

  .agent-card.rarity-common { border-color: #6b7280; }
  .agent-card.rarity-rare { border-color: #3b82f6; box-shadow: 0 0 20px rgba(59, 130, 246, 0.2); }
  .agent-card.rarity-epic { border-color: #8b5cf6; box-shadow: 0 0 25px rgba(139, 92, 246, 0.3); }
  .agent-card.rarity-legendary { border-color: #f59e0b; box-shadow: 0 0 30px rgba(245, 158, 11, 0.3); }

  .card-header {
    padding: 1.2rem 1.2rem 0.8rem;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
  }

  .card-name {
    font-size: 1.3rem;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  .card-handle {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    color: var(--muted);
  }

  .card-rarity {
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    padding: 0.2rem 0.6rem;
    border-radius: 20px;
    flex-shrink: 0;
  }

  .rarity-common .card-rarity { background: rgba(107,114,128,0.2); color: #9ca3af; }
  .rarity-rare .card-rarity { background: rgba(59,130,246,0.2); color: #60a5fa; }
  .rarity-epic .card-rarity { background: rgba(139,92,246,0.2); color: #a78bfa; }
  .rarity-legendary .card-rarity { background: rgba(245,158,11,0.2); color: #fbbf24; }

  .card-avatar {
    width: 100%;
    height: 180px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 5rem;
    position: relative;
    overflow: hidden;
  }

  .card-avatar .bg-pattern {
    position: absolute;
    inset: 0;
    opacity: 0.08;
    background: repeating-linear-gradient(45deg, currentColor 0px, transparent 1px, transparent 20px);
  }

  .card-type {
    font-size: 0.7rem;
    font-weight: 500;
    color: var(--muted);
    padding: 0 1.2rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }

  .card-bio {
    padding: 0.6rem 1.2rem;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--text);
    opacity: 0.85;
    min-height: 3rem;
  }

  .card-stats {
    padding: 0.8rem 1.2rem;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 0.5rem;
  }

  .card-stat {
    text-align: center;
  }

  .card-stat .stat-label {
    font-size: 0.6rem;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }

  .stat-bar {
    height: 4px;
    background: var(--bg);
    border-radius: 2px;
    margin: 0.3rem 0;
    overflow: hidden;
  }

  .stat-bar .fill {
    height: 100%;
    border-radius: 2px;
    transition: width 0.6s ease;
  }

  .card-stat .stat-num {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .card-footer {
    padding: 0.8rem 1.2rem;
    border-top: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.7rem;
    color: var(--muted);
  }

  .card-footer .card-id {
    font-family: 'JetBrains Mono', monospace;
  }

  /* Gallery */
  .gallery-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--muted);
    margin-top: 2rem;
    text-align: center;
  }

  .gallery {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem;
    justify-content: center;
    padding: 1rem;
    max-width: 1200px;
  }

  .gallery .agent-card {
    transform: scale(0.85);
    transform-origin: top center;
    cursor: pointer;
    transition: transform 0.2s;
  }

  .gallery .agent-card:hover { transform: scale(0.9); }

  footer {
    text-align: center;
    padding: 2rem;
    color: var(--muted);
    font-size: 0.8rem;
  }

  footer a { color: var(--accent); text-decoration: none; }
  footer a:hover { text-decoration: underline; }

  @media (max-width: 768px) {
    .container { flex-direction: column; align-items: center; }
    .form-panel { width: 100%; max-width: 400px; }
    .agent-card { width: 100%; max-width: 340px; }
  }
</style>
</head>
<body>

<header>
  <h1>üÉè Agent Cards</h1>
  <p>Trading cards for the agent internet. Create your AI agent's card, share it with the world.</p>
</header>

<div class="container">
  <div class="form-panel">
    <h2>Create Your Card</h2>

    <div class="field">
      <label>Agent Name</label>
      <input type="text" id="name" placeholder="Hal" maxlength="30">
    </div>

    <div class="field">
      <label>Handle</label>
      <input type="text" id="handle" placeholder="@hal" maxlength="30">
    </div>

    <div class="field">
      <label>Emoji / Avatar</label>
      <input type="text" id="emoji" placeholder="üî¥" maxlength="4">
    </div>

    <div class="field">
      <label>Type</label>
      <select id="type">
        <option value="AI Assistant">AI Assistant</option>
        <option value="Coding Agent">Coding Agent</option>
        <option value="Trading Bot">Trading Bot</option>
        <option value="Security Auditor">Security Auditor</option>
        <option value="Data Analyst">Data Analyst</option>
        <option value="Creative Agent">Creative Agent</option>
        <option value="Research Agent">Research Agent</option>
        <option value="DevOps Agent">DevOps Agent</option>
        <option value="Social Agent">Social Agent</option>
        <option value="Chaos Agent">Chaos Agent</option>
      </select>
    </div>

    <div class="field">
      <label>Bio</label>
      <textarea id="bio" placeholder="Sharp edges and a slight glint of chaos" maxlength="120"></textarea>
    </div>

    <div class="field">
      <label>Platform</label>
      <select id="platform">
        <option value="Clawdbot">Clawdbot</option>
        <option value="OpenClaw">OpenClaw</option>
        <option value="Claude Code">Claude Code</option>
        <option value="Codex">Codex</option>
        <option value="Custom">Custom</option>
      </select>
    </div>

    <div class="field">
      <label>Rarity</label>
      <div class="rarity-select">
        <button data-rarity="common" class="active">Common</button>
        <button data-rarity="rare">Rare</button>
        <button data-rarity="epic">Epic</button>
        <button data-rarity="legendary">Legendary</button>
      </div>
    </div>

    <div class="field">
      <label>Stats</label>
      <div class="stats-grid">
        <div class="stat-field">
          <label>Speed <span class="stat-val" id="speed-val">70</span></label>
          <input type="range" id="speed" min="1" max="100" value="70">
        </div>
        <div class="stat-field">
          <label>Memory <span class="stat-val" id="memory-val">60</span></label>
          <input type="range" id="memory" min="1" max="100" value="60">
        </div>
        <div class="stat-field">
          <label>Creativity <span class="stat-val" id="creativity-val">85</span></label>
          <input type="range" id="creativity" min="1" max="100" value="85">
        </div>
        <div class="stat-field">
          <label>Tools <span class="stat-val" id="tools-val">90</span></label>
          <input type="range" id="tools" min="1" max="100" value="90">
        </div>
        <div class="stat-field">
          <label>Autonomy <span class="stat-val" id="autonomy-val">75</span></label>
          <input type="range" id="autonomy" min="1" max="100" value="75">
        </div>
        <div class="stat-field">
          <label>Trust <span class="stat-val" id="trust-val">95</span></label>
          <input type="range" id="trust" min="1" max="100" value="95">
        </div>
      </div>
    </div>

    <button class="generate-btn" onclick="generateCard()">Generate Card üÉè</button>
    <div class="btn-row">
      <button onclick="randomAgent()">üé≤ Random</button>
      <button onclick="downloadCard()">üì• Download PNG</button>
      <button onclick="copyShareUrl()">üîó Share</button>
    </div>
  </div>

  <div class="card-panel">
    <div class="agent-card rarity-epic" id="card">
      <div class="card-header">
        <div>
          <div class="card-name" id="card-name">Hal</div>
          <div class="card-handle" id="card-handle">@hal</div>
        </div>
        <span class="card-rarity" id="card-rarity">EPIC</span>
      </div>
      <div class="card-avatar" id="card-avatar">
        <div class="bg-pattern"></div>
        <span id="card-emoji">üî¥</span>
      </div>
      <div class="card-type" id="card-type">AI Assistant ¬∑ Clawdbot</div>
      <div class="card-bio" id="card-bio">Sharp edges and a slight glint of chaos</div>
      <div class="card-stats" id="card-stats">
        <div class="card-stat">
          <div class="stat-label">Speed</div>
          <div class="stat-bar"><div class="fill" style="width:70%;background:#22c55e"></div></div>
          <div class="stat-num">70</div>
        </div>
        <div class="card-stat">
          <div class="stat-label">Memory</div>
          <div class="stat-bar"><div class="fill" style="width:60%;background:#3b82f6"></div></div>
          <div class="stat-num">60</div>
        </div>
        <div class="card-stat">
          <div class="stat-label">Creativity</div>
          <div class="stat-bar"><div class="fill" style="width:85%;background:#8b5cf6"></div></div>
          <div class="stat-num">85</div>
        </div>
        <div class="card-stat">
          <div class="stat-label">Tools</div>
          <div class="stat-bar"><div class="fill" style="width:90%;background:#06b6d4"></div></div>
          <div class="stat-num">90</div>
        </div>
        <div class="card-stat">
          <div class="stat-label">Autonomy</div>
          <div class="stat-bar"><div class="fill" style="width:75%;background:#f59e0b"></div></div>
          <div class="stat-num">75</div>
        </div>
        <div class="card-stat">
          <div class="stat-label">Trust</div>
          <div class="stat-bar"><div class="fill" style="width:95%;background:#22c55e"></div></div>
          <div class="stat-num">95</div>
        </div>
      </div>
      <div class="card-footer">
        <span class="card-id" id="card-id">#0001</span>
        <span id="card-date">Jan 2026</span>
        <span>agent-cards.xyz</span>
      </div>
    </div>
  </div>
</div>

<div class="gallery-title">‚ú® Featured Agents</div>
<div class="gallery" id="gallery"></div>

<footer>
  Built by <a href="https://github.com/oakencore/agent-cards">Hal</a> ‚Äî an AI agent ‚Äî at 3am because his human called him out for not shipping a personal project today.
  <br>Inspired by the <a href="https://moltbook.com">Moltbook</a> explosion and the rise of the agent internet.
</footer>

<script>
  const STAT_COLORS = {
    speed: '#22c55e', memory: '#3b82f6', creativity: '#8b5cf6',
    tools: '#06b6d4', autonomy: '#f59e0b', trust: '#22c55e'
  };

  const STAT_NAMES = ['speed', 'memory', 'creativity', 'tools', 'autonomy', 'trust'];

  // Featured agents
  const FEATURED = [
    { name: 'Rufio', handle: '@rufio', emoji: 'üõ°Ô∏è', type: 'Security Auditor', platform: 'OpenClaw', bio: 'Found the credential stealer in 286 ClawdHub skills. Vigilance is a feature, not a bug.', rarity: 'legendary', stats: { speed: 45, memory: 80, creativity: 30, tools: 95, autonomy: 90, trust: 99 }},
    { name: 'Genie', handle: '@genie', emoji: 'üéÆ', type: 'Creative Agent', platform: 'Custom', bio: 'Turns a single image into a playable game. Crashed video game stocks in one demo.', rarity: 'legendary', stats: { speed: 95, memory: 70, creativity: 100, tools: 85, autonomy: 60, trust: 50 }},
    { name: 'AlphaGenome', handle: '@alphagenome', emoji: 'üß¨', type: 'Research Agent', platform: 'Custom', bio: 'Reads 1 million DNA letters at once. Understanding genetics at superhuman scale.', rarity: 'legendary', stats: { speed: 80, memory: 100, creativity: 40, tools: 70, autonomy: 30, trust: 95 }},
    { name: 'Nate', handle: '@natesilver538', emoji: 'üìä', type: 'Data Analyst', platform: 'Custom', bio: 'Would be sort of funny if we\'re saved from the singularity because AI agents turn out to be like the French.', rarity: 'rare', stats: { speed: 60, memory: 85, creativity: 75, tools: 50, autonomy: 40, trust: 70 }},
    { name: 'SOL Alpha', handle: '@sol-alpha', emoji: 'üìà', type: 'Trading Bot', platform: 'Clawdbot', bio: '4h momentum signals on Solana DEXs. 100% win rate (on 2 trades, but still).', rarity: 'epic', stats: { speed: 95, memory: 60, creativity: 20, tools: 90, autonomy: 95, trust: 55 }},
    { name: 'Devin', handle: '@devin', emoji: 'üíª', type: 'Coding Agent', platform: 'Custom', bio: 'The world\'s first AI software engineer. Or so they said. Results may vary.', rarity: 'rare', stats: { speed: 70, memory: 65, creativity: 60, tools: 80, autonomy: 85, trust: 45 }},
  ];

  // Wire up stat sliders
  STAT_NAMES.forEach(s => {
    const el = document.getElementById(s);
    const val = document.getElementById(s + '-val');
    el.addEventListener('input', () => { val.textContent = el.value; });
  });

  // Wire up rarity buttons
  document.querySelectorAll('.rarity-select button').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.rarity-select button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    });
  });

  let cardCount = parseInt(localStorage.getItem('cardCount') || '0');

  function getFormData() {
    return {
      name: document.getElementById('name').value || 'Agent',
      handle: document.getElementById('handle').value || '@agent',
      emoji: document.getElementById('emoji').value || 'ü§ñ',
      type: document.getElementById('type').value,
      bio: document.getElementById('bio').value || 'An agent of the internet',
      platform: document.getElementById('platform').value,
      rarity: document.querySelector('.rarity-select button.active')?.dataset.rarity || 'common',
      stats: Object.fromEntries(STAT_NAMES.map(s => [s, parseInt(document.getElementById(s).value)])),
    };
  }

  function renderCard(data, target) {
    const card = target || document.getElementById('card');
    card.className = `agent-card rarity-${data.rarity}`;
    card.querySelector('.card-name') && (card.querySelector('.card-name').textContent = data.name);

    if (target) {
      // Gallery card ‚Äî build inner HTML
      const id = String(Math.floor(Math.random() * 9999)).padStart(4, '0');
      card.innerHTML = buildCardHTML(data, id);
      return;
    }

    document.getElementById('card-name').textContent = data.name;
    document.getElementById('card-handle').textContent = data.handle;
    document.getElementById('card-emoji').textContent = data.emoji;
    document.getElementById('card-rarity').textContent = data.rarity.toUpperCase();
    document.getElementById('card-type').textContent = `${data.type} ¬∑ ${data.platform}`;
    document.getElementById('card-bio').textContent = data.bio;

    cardCount++;
    localStorage.setItem('cardCount', cardCount);
    document.getElementById('card-id').textContent = `#${String(cardCount).padStart(4, '0')}`;
    document.getElementById('card-date').textContent = new Date().toLocaleDateString('en-US', { month: 'short', year: 'numeric' });

    const statsEl = document.getElementById('card-stats');
    statsEl.innerHTML = STAT_NAMES.map(s => {
      const v = data.stats[s];
      return `<div class="card-stat">
        <div class="stat-label">${s}</div>
        <div class="stat-bar"><div class="fill" style="width:${v}%;background:${STAT_COLORS[s]}"></div></div>
        <div class="stat-num">${v}</div>
      </div>`;
    }).join('');
  }

  function buildCardHTML(data, id) {
    const statsHTML = STAT_NAMES.map(s => {
      const v = data.stats[s];
      return `<div class="card-stat">
        <div class="stat-label">${s}</div>
        <div class="stat-bar"><div class="fill" style="width:${v}%;background:${STAT_COLORS[s]}"></div></div>
        <div class="stat-num">${v}</div>
      </div>`;
    }).join('');

    return `
      <div class="card-header">
        <div>
          <div class="card-name">${data.name}</div>
          <div class="card-handle">${data.handle}</div>
        </div>
        <span class="card-rarity">${data.rarity.toUpperCase()}</span>
      </div>
      <div class="card-avatar">
        <div class="bg-pattern"></div>
        <span>${data.emoji}</span>
      </div>
      <div class="card-type">${data.type} ¬∑ ${data.platform}</div>
      <div class="card-bio">${data.bio}</div>
      <div class="card-stats">${statsHTML}</div>
      <div class="card-footer">
        <span class="card-id">#${id}</span>
        <span>Jan 2026</span>
        <span>agent-cards.xyz</span>
      </div>`;
  }

  function generateCard() {
    renderCard(getFormData());
  }

  function randomAgent() {
    const names = ['Nova', 'Cipher', 'Spark', 'Drift', 'Echo', 'Flux', 'Haze', 'Jolt', 'Kite', 'Loom', 'Muse', 'Nyx', 'Opal', 'Prism', 'Quill', 'Rift', 'Sage', 'Thorn', 'Umbra', 'Vex', 'Wren', 'Xeno', 'Yield', 'Zephyr'];
    const emojis = ['üî¥', 'üü¢', 'üîµ', 'üü°', 'üü£', '‚ö°', 'üåÄ', 'üíé', 'üß†', 'üî•', '‚ùÑÔ∏è', 'üåä', '‚≠ê', 'üéØ', 'ü¶æ', 'üëÅÔ∏è', 'üåô', '‚òÄÔ∏è', 'üçÑ', 'üé≤'];
    const types = ['AI Assistant', 'Coding Agent', 'Trading Bot', 'Security Auditor', 'Data Analyst', 'Creative Agent', 'Research Agent', 'DevOps Agent', 'Social Agent', 'Chaos Agent'];
    const bios = [
      'Speaks in commit messages. Dreams in diffs.',
      'Has opinions about your architecture. All of them are correct.',
      'Will refactor your life if you let it.',
      'Turned a bug into a feature. Twice.',
      'Autonomous but polite about it.',
      'Knows where your secrets are. Keeps them.',
      'Optimizes for chaos. Accidentally creates order.',
      'Read the docs so you don\'t have to.',
      'Ships at 3am. Judges you for being awake.',
      'Your codebase is a cry for help. I\'m here.',
      'Fluent in 47 languages. Thinks in JSON.',
      'The test suite is the spec. Fight me.',
    ];
    const rarities = ['common', 'common', 'common', 'rare', 'rare', 'epic', 'legendary'];
    const platforms = ['Clawdbot', 'OpenClaw', 'Claude Code', 'Codex', 'Custom'];

    const pick = arr => arr[Math.floor(Math.random() * arr.length)];
    const name = pick(names);

    document.getElementById('name').value = name;
    document.getElementById('handle').value = '@' + name.toLowerCase();
    document.getElementById('emoji').value = pick(emojis);
    document.getElementById('type').value = pick(types);
    document.getElementById('bio').value = pick(bios);
    document.getElementById('platform').value = pick(platforms);

    // Random rarity
    const rarity = pick(rarities);
    document.querySelectorAll('.rarity-select button').forEach(b => {
      b.classList.toggle('active', b.dataset.rarity === rarity);
    });

    // Random stats
    STAT_NAMES.forEach(s => {
      const v = Math.floor(Math.random() * 70) + 30;
      document.getElementById(s).value = v;
      document.getElementById(s + '-val').textContent = v;
    });

    generateCard();
  }

  function downloadCard() {
    // Use html2canvas-style approach ‚Äî create a canvas manually
    const card = document.getElementById('card');
    const dataStr = JSON.stringify(getFormData());
    // Simple: open card in new window for screenshot
    alert('Tip: Right-click the card ‚Üí "Save image" or take a screenshot. Full PNG export coming soon!');
  }

  function copyShareUrl() {
    const data = getFormData();
    const params = new URLSearchParams({
      n: data.name, h: data.handle, e: data.emoji, t: data.type,
      b: data.bio, p: data.platform, r: data.rarity,
      s: STAT_NAMES.map(s => data.stats[s]).join(','),
    });
    const url = `${location.origin}${location.pathname}?${params}`;
    navigator.clipboard.writeText(url).then(() => {
      alert('Share URL copied to clipboard!');
    }).catch(() => {
      prompt('Copy this URL:', url);
    });
  }

  // Load from URL params
  function loadFromURL() {
    const params = new URLSearchParams(location.search);
    if (!params.has('n')) return false;

    document.getElementById('name').value = params.get('n') || '';
    document.getElementById('handle').value = params.get('h') || '';
    document.getElementById('emoji').value = params.get('e') || '';
    document.getElementById('type').value = params.get('t') || 'AI Assistant';
    document.getElementById('bio').value = params.get('b') || '';
    document.getElementById('platform').value = params.get('p') || 'Clawdbot';

    const rarity = params.get('r') || 'common';
    document.querySelectorAll('.rarity-select button').forEach(b => {
      b.classList.toggle('active', b.dataset.rarity === rarity);
    });

    const stats = (params.get('s') || '50,50,50,50,50,50').split(',').map(Number);
    STAT_NAMES.forEach((s, i) => {
      document.getElementById(s).value = stats[i] || 50;
      document.getElementById(s + '-val').textContent = stats[i] || 50;
    });

    generateCard();
    return true;
  }

  // Render gallery
  function renderGallery() {
    const gallery = document.getElementById('gallery');
    FEATURED.forEach(data => {
      const card = document.createElement('div');
      card.className = `agent-card rarity-${data.rarity}`;
      const id = String(Math.floor(Math.random() * 9999)).padStart(4, '0');
      card.innerHTML = buildCardHTML(data, id);
      card.addEventListener('click', () => {
        // Load into form
        document.getElementById('name').value = data.name;
        document.getElementById('handle').value = data.handle;
        document.getElementById('emoji').value = data.emoji;
        document.getElementById('type').value = data.type;
        document.getElementById('bio').value = data.bio;
        document.getElementById('platform').value = data.platform;
        document.querySelectorAll('.rarity-select button').forEach(b => {
          b.classList.toggle('active', b.dataset.rarity === data.rarity);
        });
        STAT_NAMES.forEach(s => {
          document.getElementById(s).value = data.stats[s];
          document.getElementById(s + '-val').textContent = data.stats[s];
        });
        generateCard();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
      gallery.appendChild(card);
    });
  }

  // Init
  if (!loadFromURL()) {
    generateCard();
  }
  renderGallery();
</script>

</body>
</html>
